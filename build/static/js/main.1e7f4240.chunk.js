(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{46:function(e,t,n){},47:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(35),s=n.n(r),i=(n(46),n(7)),u=n(8),o=n(6),l=(n(47),c.a.createContext()),j=n(0),b=function(){var e=Object(a.useContext)(l).user,t=Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u.b,{className:"button-link",to:"/login",children:Object(j.jsx)("div",{children:"Login"})}),Object(j.jsx)(u.b,{className:"button-link",to:"/signup",children:Object(j.jsx)("div",{children:"Sign Up"})})]});return null!==e&&(t=Object(j.jsxs)("p",{className:"home-greet",children:["Welcome back ",e.firstName,"!"]})),Object(j.jsx)("div",{className:"home",children:Object(j.jsxs)("div",{className:"home-container",children:[Object(j.jsx)("h1",{className:"home-title",children:"Jobly"}),Object(j.jsx)("p",{className:"home-text",children:"Find your perfect career match through our extensive listings!"}),Object(j.jsx)("div",{className:"home-button-container",children:t})]})})},p=function(){var e=Object(a.useContext)(l),t=e.user,n=e.setUser,c=Object(a.useState)(!1),r=Object(i.a)(c,2),s=r[0],o=r[1];return Object(j.jsxs)("nav",{className:"navbar",children:[Object(j.jsx)(u.c,{to:"/",children:"Jobly"}),Object(j.jsx)("div",{className:"navbar-container",children:null===t?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u.c,{to:"/login",children:"Login"}),Object(j.jsx)(u.c,{to:"/signup",children:"Signup"})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u.c,{to:"/companies",children:"Companies"}),Object(j.jsx)(u.c,{to:"/jobs",children:"Jobs"}),Object(j.jsx)(u.c,{to:"/profile",children:"Profile"}),Object(j.jsxs)(u.b,{onClick:function(){n(null),o(!s)},to:"/",children:["Logout (",t.username,")"]})]})})]})},m=n(3),d=n.n(m),f=n(5),h=n(38),O=n(39),x=n(16),v=n.n(x),g="https://tettis-react-jobly.herokuapp.com",N=function(){function e(){Object(h.a)(this,e)}return Object(O.a)(e,null,[{key:"getCompanies",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=6;break}return e.next=4,v.a.get("".concat(g,"/companies"),{params:t});case 4:return n=e.sent,e.abrupt("return",n.data.companies);case 6:return e.next=8,v.a.get("".concat(g,"/companies"));case 8:return a=e.sent,e.abrupt("return",a.data.companies);case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCompany",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(g,"/companies/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.company);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getJobs",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=8;break}return e.next=4,v.a.get("".concat(g,"/jobs"),{params:t});case 4:return n=e.sent,e.abrupt("return",n.data.jobs);case 8:return e.next=10,v.a.get("".concat(g,"/jobs"));case 10:return a=e.sent,e.abrupt("return",a.data.jobs);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(f.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(g,"/users/").concat(t),{headers:{Authorization:"".concat(n)}});case 3:return a=e.sent,e.abrupt("return",a.data.user);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"signUp",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=v.a.post("".concat(g,"/auth/register"),t),e.abrupt("return",n);case 5:return e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"Login",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=v.a.post("".concat(g,"/auth/token"),t),e.abrupt("return",n);case 5:return e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"PatchUser",value:function(){var e=Object(f.a)(d.a.mark((function e(t,n,a){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.patch("".concat(g,"/users/").concat(t),n,{headers:{Authorization:"".concat(a)}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"apply",value:function(){var e=Object(f.a)(d.a.mark((function e(t,n,a){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("".concat(g,"/users/").concat(n,"/jobs/").concat(t),{},{headers:{Authorization:"".concat(a)}});case 3:c=e.sent,console.log(c),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}()}]),e}(),y=N,k=function(e){var t=e.title,n=e.body,a=e.link,c=e.logo,r=e.clickable,s=void 0!==r&&r,i=Object(o.f)(),u=s?"clickable":"";return Object(j.jsxs)("div",{onClick:function(){null!==a&&i.push(a)},className:"mcard ".concat(u),children:[Object(j.jsxs)("div",{className:"mcard-container",children:[Object(j.jsx)("h2",{className:"mcard-title",children:t}),c&&Object(j.jsx)("img",{className:"mcard-image",src:c})]}),n]})},w=function(e){var t=e.company,n=Object(j.jsx)("p",{className:"mcard-description",children:t.description});return Object(j.jsx)(k,{title:t.name,body:n,link:"/companies/".concat(t.handle),clickable:!0})},S=function(e){var t=e.onSearch,n=Object(a.useState)(""),c=Object(i.a)(n,2),r=c[0],s=c[1];return Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(r)},className:"search-bar",children:[Object(j.jsx)("input",{className:"search-bar-input form-control ",type:"text",placeholder:"Search...",value:r,onChange:function(e){s(e.target.value)}}),Object(j.jsx)("button",{className:"button-link",children:Object(j.jsx)("div",{children:"Search"})})]})},C=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(o.f)(),n=Object(a.useContext)(l),c=n.user,r=JSON.parse(window.localStorage.getItem("user"));if(e){if(null!==c||null!==r)return t.push("/")}else if(null===c&&null===r)return t.push("/login")},U=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],r=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getCompanies();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){r()}),[]),C();var s=function(){var e=Object(f.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=4;break}r(),e.next=8;break;case 4:return e.next=6,y.getCompanies({name:t});case 6:n=e.sent,c(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return null!==n?Object(j.jsxs)("div",{className:"companies-list card-list",children:[Object(j.jsx)(S,{onSearch:s}),Object(j.jsx)("div",{className:"card-list",children:n.map((function(e){return Object(j.jsx)(w,{company:e})}))})]}):Object(j.jsx)("div",{children:"Loading..."})},L=n(18),E=n(9),J=n(74),P=n(77),F=n(75),I=n(76),A=function(e){var t=e.inputs,n=e.destination,c=e.authType,r=Object(a.useState)(null),s=Object(i.a)(r,2),u=s[0],b=s[1],p=Object(o.f)(),m=Object(a.useContext)(l).setUser,h={};t.forEach((function(e){h=Object(E.a)(Object(E.a)({},h),{},Object(L.a)({},e.name,e.value))}));var O=Object(a.useState)(h),x=Object(i.a)(O,2),v=x[0],g=x[1],N=function(){var e=Object(f.a)(d.a.mark((function e(t){var a,r,s,i,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a="Sign Up"===c?y.signUp:y.Login,e.prev=2,e.next=5,a(v);case 5:return r=e.sent,s=r.data.token,e.next=9,y.getUser(v.username,s);case 9:i=e.sent,u=Object(E.a)(Object(E.a)({},i),{},{token:s}),m(u),p.push(n),b(null),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),b("Invalid username or password!");case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}(),k=function(e){g((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(L.a)({},e.target.name,e.target.value))}))};return Object(j.jsxs)(J.a,{className:"d-flex flex-column align-items-center",children:[Object(j.jsx)("h1",{className:"form-title",children:c}),Object(j.jsxs)(P.a,{className:"form",onSubmit:N,children:[t.map((function(e){return Object(j.jsxs)(F.a,{className:"my-4",children:[Object(j.jsx)(I.a,{for:e.name,children:e.label}),Object(j.jsx)("input",{className:"form-control",type:e.type,id:e.name,name:e.name,value:v[e.name],onChange:k})]},e.name)})),Object(j.jsx)("button",{className:"mx-0 button-link button-block",children:Object(j.jsx)("div",{children:c})}),null!==u&&Object(j.jsx)("small",{class:"error-message",children:u})]})]})},T=[{name:"username",type:"text",value:"",label:"Username"},{name:"password",type:"password",value:"",label:"Password"}],D=function(){return C(!0),Object(j.jsx)(A,{inputs:T,destination:"/",authType:"Log In"})},z=[{name:"username",type:"text",value:"",label:"Username"},{name:"password",type:"password",value:"",label:"Password"},{name:"firstName",type:"text",value:"",label:"First Name"},{name:"lastName",type:"text",value:"",label:"Last Name"},{name:"email",type:"email",value:"",label:"Email"}],q=function(){return C(!0),Object(j.jsx)(A,{inputs:z,destination:"/",authType:"Sign Up"})},B=n(40),M=function(e){var t=e.job,n=Object(a.useContext)(l),c=n.user,r=n.setUser,s=Object(a.useState)(!1),u=Object(i.a)(s,2),b=u[0],p=u[1],m=Object(o.f)();Object(a.useEffect)((function(){null!==c&&(c.applications.includes(t.id)&&p(!0))}),[]);var h=function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null===c&&m.push("/login"),e.next=4,y.apply(t.id,c.username,c.token);case 4:r((function(e){return Object(E.a)(Object(E.a)({},e),{},{applications:[].concat(Object(B.a)(e.applications),[t.id])})})),p(!0),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),p(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),O=Object(j.jsxs)("div",{className:"mcard-container",children:[Object(j.jsxs)("ul",{className:"mcard-list",children:[Object(j.jsxs)("li",{children:["Salary: ",t.salary]}),Object(j.jsxs)("li",{children:["Equity: ",t.equity]})]}),b?Object(j.jsx)("button",{className:"button-link success disabled",children:Object(j.jsx)("div",{children:"Applied!"})}):Object(j.jsx)("button",{onClick:h,className:"button-link success",children:Object(j.jsx)("div",{children:"Apply!"})})]});return Object(j.jsx)(k,{title:t.title,body:O})},W=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(o.g)().handle;return Object(a.useState)((function(){var e=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getCompany(r);case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),C(),null!==n?Object(j.jsxs)("div",{className:"company-info",children:[Object(j.jsx)("h2",{className:"company-info-title",children:n.name}),Object(j.jsx)("p",{className:"company-info-description",children:n.description}),Object(j.jsx)("div",{className:"card-list",children:n.jobs.map((function(e){return Object(j.jsx)(M,{job:e},e.id)}))})]}):Object(j.jsx)("div",{children:"Loading..."})},G=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],r=!0,s=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getJobs();case 2:t=e.sent,r&&c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){return s(),function(){r=!1}}),[]),C();var u=function(){var e=Object(f.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=4;break}s(),e.next=8;break;case 4:return e.next=6,y.getJobs({title:t});case 6:n=e.sent,c(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return null!==n?Object(j.jsxs)("div",{className:"job-list",children:[Object(j.jsx)(S,{onSearch:u}),Object(j.jsx)("div",{className:"card-list",children:n.map((function(e){return Object(j.jsx)(M,{job:e})}))})]}):Object(j.jsx)("div",{children:"Loading..."})},H=function(){var e=Object(a.useContext)(l),t=e.user,n=e.setUser,c=Object(a.useState)({firstName:"",lastName:"",email:"",password:""}),r=Object(i.a)(c,2),s=r[0],u=r[1],o=Object(a.useState)(null),b=Object(i.a)(o,2),p=b[0],m=b[1],h=Object(a.useState)(null),O=Object(i.a)(h,2),x=O[0],v=O[1];Object(a.useEffect)((function(){return null!==t&&u({firstName:t.firstName,lastName:t.lastName,email:t.email,password:""}),function(){u({})}}),[t]),C();var g=function(e){u((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(L.a)({},e.target.name,e.target.value))}))};return null!==t?Object(j.jsxs)("div",{className:"profile-info",children:[Object(j.jsx)("h3",{className:"profile-info-title",children:"Profile Information"}),Object(j.jsxs)(P.a,{className:"form",onSubmit:function(e){e.preventDefault();var a=function(){var e=Object(f.a)(d.a.mark((function e(){var a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.Login({username:t.username,password:s.password});case 3:if(a=e.sent,console.log(a),!a.data.token){e.next=15;break}return delete(c=Object(E.a)({},s)).password,e.next=10,y.PatchUser(t.username,c,t.token);case 10:r=e.sent,console.log(r),n(Object(E.a)(Object(E.a)({},r.user),{},{token:t.token})),m(null),v(!0);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),m("Password does not match!");case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();a()},children:[Object(j.jsxs)(F.a,{className:"my-4",children:[Object(j.jsx)(I.a,{for:"username",children:"Username"}),Object(j.jsx)("input",{className:"form-control",type:"text",id:"username",name:"username",value:t.username,disabled:!0})]},"username-input"),Object(j.jsxs)(F.a,{className:"my-4",children:[Object(j.jsx)(I.a,{for:"firstName",children:"First Name"}),Object(j.jsx)("input",{className:"form-control",type:"text",id:"firstName",name:"firstName",value:s.firstName,onChange:g})]},"first-name-input"),Object(j.jsxs)(F.a,{className:"my-4",children:[Object(j.jsx)(I.a,{for:"lastName",children:"Last Name"}),Object(j.jsx)("input",{className:"form-control",type:"text",id:"lastName",name:"lastName",value:s.lastName,onChange:g})]},"last-name-input"),Object(j.jsxs)(F.a,{className:"my-4",children:[Object(j.jsx)(I.a,{for:"email",children:"Email"}),Object(j.jsx)("input",{className:"form-control",type:"email",id:"email",name:"email",value:s.email,onChange:g})]},"email-input"),Object(j.jsxs)(F.a,{className:"my-4",children:[Object(j.jsx)(I.a,{for:"password",children:"Input Password to confirm changes"}),Object(j.jsx)("input",{className:"form-control",type:"password",id:"password",name:"password",value:s.password,onChange:g})]},"password-input"),Object(j.jsx)("button",{className:"button-link button-block",children:Object(j.jsx)("div",{children:"Save Changes"})}),null!==p&&Object(j.jsx)("small",{className:"error-message",children:p}),null===p&&x&&Object(j.jsx)("small",{className:"profile-info-text",children:"Changes Added!"})]})]}):Object(j.jsx)("div",{children:"Loading..."})};var K=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("user"));c(e)}),[]),Object(a.useEffect)((function(){window.localStorage.setItem("user",JSON.stringify(n))}),[n]),Object(j.jsx)(u.a,{children:Object(j.jsx)(o.c,{children:Object(j.jsxs)(l.Provider,{value:{user:n,setUser:c},children:[Object(j.jsx)(p,{}),Object(j.jsx)(o.a,{exact:!0,path:"/",children:Object(j.jsx)(b,{})}),Object(j.jsx)(o.a,{exact:!0,path:"/signup",children:Object(j.jsx)(q,{})}),Object(j.jsx)(o.a,{exact:!0,path:"/login",children:Object(j.jsx)(D,{})}),Object(j.jsx)(o.a,{exact:!0,path:"/companies",children:Object(j.jsx)(U,{})}),Object(j.jsx)(o.a,{exact:!0,path:"/companies/:handle",children:Object(j.jsx)(W,{})}),Object(j.jsx)(o.a,{exact:!0,path:"/jobs",children:Object(j.jsx)(G,{})}),Object(j.jsx)(o.a,{exact:!0,path:"/profile",children:Object(j.jsx)(H,{})})]})})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(K,{})}),document.getElementById("root")),Q()}},[[73,1,2]]]);
//# sourceMappingURL=main.1e7f4240.chunk.js.map